#!/bin/sh

VIM_D=${VIM_D:$HOME/.vim}

git clone https://github.com/skotchpine/dots $VIM_D
[[ $? == 0 ]] || exit 1

for dir in autoload bundle; do
  [ -d "$dir" ] || mkdir -p "$VIM_D/$dir"
done

curl -o $VIM_D/autoload/pathogen.vim https://raw.githubusercontent.com/tpope/vim-pathogen/master/autoload/pathogen.vim

origin=$(pwd)
cd $VIM_D/bundle; {
  for repo in $(cat $VIM_D/manifest); do
    git clone $repo
  done
}; cd $origin
